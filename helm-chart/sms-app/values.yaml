# SMS app configuration
app:
  name: sms-app
  replicaCount: 1
  image:
    repository: ghcr.io/doda25-team16/app
    tag: latest
    pullPolicy: Always
  service:
    type: ClusterIP
    port: 8080
    targetPort: 8080
  env:
    serverPort: "8080"
    modelServiceUrl: "http://sms-model:8081"
  secret:
    mySecret: "YmFy"  # base64 encoded "bar"
  version: stable
  canaryVersion: canary   
# SMS Model Service Configuration 
model:
  name: sms-model
  replicaCount: 1
  image:
    repository: ghcr.io/doda25-team16/model-service
    tag: latest
    pullPolicy: Always
  service:
    type: ClusterIP
    port: 8081
    targetPort: 8081
  env:
    modelPort: "8081"
  version: stable         
  canaryVersion: canary   
# Ingress configuration
ingress:
  enabled: true
  className: nginx
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: team16-sms.local
      paths:
        - path: /
          pathType: Prefix
          serviceName: sms-app
          servicePort: 8080
  tls: []
  # - secretName: chart-example-tls
  # hosts:
  #   - chart-example.local

# Istio Configurations
istio:
  gatewayName: my-gateway 

trafficManagement:
  splitting:
    stableWeight: 90
    canaryWeight: 10